"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[602],{598:function(e,t,n){n.r(t),n.d(t,{fetchMovies:function(){return a}});var s=n(861),i=n(687),r=n.n(i),c=n(243).Z.create({baseURL:"https://api.themoviedb.org/3/",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3MjM0ZGU0ZDBmY2Q2ZDMyMTU4NTZiOWNiY2FjOTIxMiIsInN1YiI6IjY1MjE0OTU4NzQ1MDdkMDBhYzQ5NjM1YSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4tSzuvDckrKfx97Li1MJc--OVLo4Rhp1vN70xjG_Y0w",accept:"application/json"}}),a=function(){var e=(0,s.Z)(r().mark((function e(t){var n,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get(t);case 2:return n=e.sent,s=n.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},733:function(e,t,n){var s=n(184);t.Z=function(e){var t=e.loading,n=e.children;return t?(0,s.jsx)("p",{children:"Loading"}):(0,s.jsx)(s.Fragment,{children:n})}},602:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(439),i=n(598),r=n(689),c=n(184),a=function(){var e=(0,r.s0)(),t=localStorage.getItem("from");return(0,c.jsx)("button",{className:"btn btn-secondary m-3",onClick:function(){return e(t)},children:"\u2190 Go back"})},o=n(733),d=n(791),l=n(87),h=function(){var e=(0,r.UO)().id,t=localStorage.getItem("from");return(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"mt-4",children:"Aditional Information"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)(l.OL,{to:"/movies/".concat(e,"/cast"),state:{from:t},children:"Cast"})}),(0,c.jsx)("li",{children:(0,c.jsx)(l.OL,{to:"/movies/".concat(e,"/reviews"),state:{from:t},children:"Reviews"})})]})]})},u="style_cast__0azeS",v=n(598).fetchMovies,f=n(791).useState,j=n(791).useEffect,m=function(e){var t=e.id,n=f([]),i=(0,s.Z)(n,2),r=i[0],a=i[1],d=f(!0),l=(0,s.Z)(d,2),h=l[0],m=l[1];return j((function(){v("movie/".concat(t,"/credits")).then((function(e){var t=e.cast;m(!1),a(t)}))}),[t]),(0,c.jsx)("div",{children:(0,c.jsx)(o.Z,{loading:h,children:r.map((function(e){return(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:u,src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:e.name})}),(0,c.jsxs)("span",{className:"p-2",children:["\u25cf ",e.name]}),(0,c.jsxs)("span",{className:"p-2",children:["Character: ",e.character]})]},e.id)}))})})},x=function(e){var t=e.id,n=(0,d.useState)(!0),r=(0,s.Z)(n,2),a=r[0],l=r[1],h=(0,d.useState)([]),u=(0,s.Z)(h,2),v=u[0],f=u[1];return(0,d.useEffect)((function(){(0,i.fetchMovies)("movie/".concat(t,"/reviews")).then((function(e){var t=e.results;l(!1),f(t)}))}),[t]),(0,c.jsx)("div",{children:(0,c.jsx)(o.Z,{loading:a,children:v&&(v.length?v.map((function(e){return(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:e.author}),(0,c.jsx)("p",{children:e.content})]},e.id)})):(0,c.jsx)("h5",{children:"We don't have any reviews for this movie."}))})})},p=function(){var e=(0,r.TH)().pathname,t=(0,r.UO)().id,n=(0,d.useState)(!0),l=(0,s.Z)(n,2),u=l[0],v=l[1],f=(0,d.useState)({}),j=(0,s.Z)(f,2),p=j[0],g=j[1],Z=(0,d.useState)([]),w=(0,s.Z)(Z,2),N=w[0],b=w[1],I=(0,d.useState)(!1),M=(0,s.Z)(I,2),S=M[0],k=M[1],_=(0,d.useState)(!0),O=(0,s.Z)(_,2),y=O[0],J=O[1];return(0,d.useEffect)((function(){(0,i.fetchMovies)("movie/".concat(t)).then((function(e){g(e),b(e.genres),v(!1)}))}),[t]),(0,d.useEffect)((function(){e==="/movies/".concat(t,"/cast")?(k(!0),J(!1)):e==="/movies/".concat(t,"/reviews")?(k(!1),J(!0)):(k(!1),J(!1))}),[e,t]),(0,c.jsx)(o.Z,{loading:u,children:(0,c.jsxs)("div",{children:[(0,c.jsx)(a,{}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(p.backdrop_path),alt:p.title})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("h1",{className:"mt-4",children:[p.title,"(",new Date(p.release_date).getFullYear(),")"]}),(0,c.jsxs)("span",{children:["User Score: ",Math.round(10*p.vote_average),"%"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"mt-4",children:"Overview"}),(0,c.jsx)("span",{children:p.overview})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"mt-4",children:"Genres"}),(0,c.jsx)("div",{children:N.map((function(e){return(0,c.jsx)("span",{children:e.name},e.id)}))})]})]})]}),(0,c.jsx)(h,{}),S?(0,c.jsx)(m,{id:t}):y?(0,c.jsx)(x,{id:t}):null]})})}}}]);
//# sourceMappingURL=602.1b9acdfe.chunk.js.map