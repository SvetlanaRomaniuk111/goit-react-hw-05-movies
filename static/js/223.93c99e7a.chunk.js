"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[223],{598:function(e,n,t){t.r(n),t.d(n,{fetchMovies:function(){return u}});var r=t(861),a=t(687),i=t.n(a),c=t(243).Z.create({baseURL:"https://api.themoviedb.org/3/",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3MjM0ZGU0ZDBmY2Q2ZDMyMTU4NTZiOWNiY2FjOTIxMiIsInN1YiI6IjY1MjE0OTU4NzQ1MDdkMDBhYzQ5NjM1YSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4tSzuvDckrKfx97Li1MJc--OVLo4Rhp1vN70xjG_Y0w",accept:"application/json"}}),u=function(){var e=(0,r.Z)(i().mark((function e(n){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get(n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},130:function(e,n,t){var r=t(439),a=t(598),i=t(791),c=t(689),u=t(87),o=t(733),s=t(184);n.Z=function(e){var n=e.url,t=(0,c.TH)(),h=t.pathname,l=t.search,f=(0,i.useState)([]),d=(0,r.Z)(f,2),v=d[0],p=d[1],j=(0,i.useState)(!0),m=(0,r.Z)(j,2),x=m[0],Z=m[1];return(0,i.useEffect)((function(){(0,a.fetchMovies)(n).then((function(e){var n=e.results;p(n),Z(!1)}))}),[n]),(0,s.jsx)(o.Z,{loading:x,children:(0,s.jsx)("ul",{children:v.map((function(e){return(0,s.jsx)("li",{children:(0,s.jsx)(u.OL,{to:"/movies/".concat(e.id),state:{from:h+l},children:e.original_name||e.original_title||e.name||e.title})},e.id)}))})})}},733:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.loading,t=e.children;return n?(0,r.jsx)("p",{children:"Loading"}):(0,r.jsx)(r.Fragment,{children:t})}},223:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});var r=t(439),a=t(130),i=t(184),c=function(e){var n=e.onChange,t=e.value,r=e.search;return(0,i.jsxs)("form",{onSubmit:r,children:[(0,i.jsx)("input",{onChange:n,value:t,type:"text",name:"query"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-secondary m-3",children:"Search"})]})},u=t(791),o=t(87),s=function(){var e=(0,o.lr)({q:""}),n=(0,r.Z)(e,2),t=n[0],s=n[1],h=(0,u.useState)(""),l=(0,r.Z)(h,2),f=l[0],d=l[1];return(0,u.useEffect)((function(){d(t.get("q"))}),[]),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Movies"}),(0,i.jsx)(c,{value:f,search:function(e){e.preventDefault(),s({q:f})},onChange:function(e){var n=e.target.value;d(n)}}),(0,i.jsx)(a.Z,{url:"search/movie?query=".concat(t.get("q"))})]})}}}]);
//# sourceMappingURL=223.93c99e7a.chunk.js.map