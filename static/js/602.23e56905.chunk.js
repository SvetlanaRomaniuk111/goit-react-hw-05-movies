"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[602],{598:function(e,n,t){t.r(n),t.d(n,{fetchMovies:function(){return a}});var i=t(861),r=t(687),s=t.n(r),c=t(243).Z.create({baseURL:"https://api.themoviedb.org/3/",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3MjM0ZGU0ZDBmY2Q2ZDMyMTU4NTZiOWNiY2FjOTIxMiIsInN1YiI6IjY1MjE0OTU4NzQ1MDdkMDBhYzQ5NjM1YSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4tSzuvDckrKfx97Li1MJc--OVLo4Rhp1vN70xjG_Y0w",accept:"application/json"}}),a=function(){var e=(0,i.Z)(s().mark((function e(n){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get(n);case 2:return t=e.sent,i=t.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},733:function(e,n,t){var i=t(184);n.Z=function(e){var n=e.loading,t=e.children;return n?(0,i.jsx)("p",{children:"Loading"}):(0,i.jsx)(i.Fragment,{children:t})}},602:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var i=t(439),r=t(598),s=t(689),c=t(184),a=function(){var e=(0,s.s0)(),n=localStorage.getItem("from");return(0,c.jsx)("button",{className:"btn btn-secondary m-3",onClick:function(){return e(n)},children:"\u2190 Go back"})},o=t(733),d=t(791),h=t(87),l=function(){var e=(0,s.UO)().id,n=localStorage.getItem("from");return(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{children:"Aditional Information"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)(h.OL,{to:"/movies/".concat(e,"/cast"),state:{from:n},children:"Cast"})}),(0,c.jsx)("li",{children:(0,c.jsx)(h.OL,{to:"/movies/".concat(e,"/reviews"),state:{from:n},children:"Reviews"})})]})]})},u="style_cast__0azeS",v=t(598).fetchMovies,f=t(791).useState,j=t(791).useEffect,x=function(e){var n=e.id,t=f([]),r=(0,i.Z)(t,2),s=r[0],a=r[1],d=f(!0),h=(0,i.Z)(d,2),l=h[0],x=h[1];return j((function(){v("movie/".concat(n,"/credits")).then((function(e){var n=e.cast;x(!1),a(n)}))}),[n]),(0,c.jsx)("div",{children:(0,c.jsx)(o.Z,{loading:l,children:s.map((function(e){return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:u,src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:e.name})}),(0,c.jsxs)("span",{children:["\u25cf ",e.name]}),(0,c.jsxs)("span",{children:["Character: ",e.character]})]},e.id)}))})})},m=function(e){var n=e.id,t=(0,d.useState)(!0),s=(0,i.Z)(t,2),a=s[0],h=s[1],l=(0,d.useState)([]),u=(0,i.Z)(l,2),v=u[0],f=u[1];return(0,d.useEffect)((function(){(0,r.fetchMovies)("movie/".concat(n,"/reviews")).then((function(e){var n=e.results;h(!1),f(n)}))}),[n]),(0,c.jsx)("div",{children:(0,c.jsx)(o.Z,{loading:a,children:v&&(v.length?v.map((function(e){return(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:e.author}),(0,c.jsx)("p",{children:e.content})]},e.id)})):(0,c.jsx)("h5",{children:"We don't have any reviews for this movie."}))})})},p=function(){var e=(0,s.TH)().pathname,n=(0,s.UO)().id,t=(0,d.useState)(!0),h=(0,i.Z)(t,2),u=h[0],v=h[1],f=(0,d.useState)({}),j=(0,i.Z)(f,2),p=j[0],g=j[1],Z=(0,d.useState)([]),w=(0,i.Z)(Z,2),I=w[0],M=w[1],b=(0,d.useState)(!1),S=(0,i.Z)(b,2),k=S[0],_=S[1],O=(0,d.useState)(!0),N=(0,i.Z)(O,2),y=N[0],J=N[1];return(0,d.useEffect)((function(){(0,r.fetchMovies)("movie/".concat(n)).then((function(e){g(e),M(e.genres),v(!1)}))}),[n]),(0,d.useEffect)((function(){e==="/movies/".concat(n,"/cast")?(_(!0),J(!1)):e==="/movies/".concat(n,"/reviews")?(_(!1),J(!0)):(_(!1),J(!1))}),[e,n]),(0,c.jsx)(o.Z,{loading:u,children:(0,c.jsxs)("div",{children:[(0,c.jsx)(a,{}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(p.backdrop_path),alt:p.title})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("h1",{children:[p.title,"(",new Date(p.release_date).getFullYear(),")"]}),(0,c.jsxs)("span",{children:["User Score: ",Math.round(10*p.vote_average),"%"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:"Overview"}),(0,c.jsx)("span",{children:p.overview})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:"Genres"}),(0,c.jsx)("div",{children:I.map((function(e){return(0,c.jsx)("span",{children:e.name},e.id)}))})]})]})]}),(0,c.jsx)(l,{}),k?(0,c.jsx)(x,{id:n}):y?(0,c.jsx)(m,{id:n}):null]})})}}}]);
//# sourceMappingURL=602.23e56905.chunk.js.map